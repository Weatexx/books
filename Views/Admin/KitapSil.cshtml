@model books.Models.AdminViewModels.KitaplarVM

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    
    var yazarlar = (ViewBag.Yazarlar as List<books.Models.AdminViewModels.YazarlarVM>) ?? new List<books.Models.AdminViewModels.YazarlarVM>();
    var diller = (ViewBag.Diller as List<books.Models.AdminViewModels.DillerVM>) ?? new List<books.Models.AdminViewModels.DillerVM>();
    var yayinevleri = (ViewBag.Yayinevleri as List<books.Models.AdminViewModels.YayinevleriVM>) ?? new List<books.Models.AdminViewModels.YayinevleriVM>();
}

<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1 class="m-0">Kitap Sil</h1>
      </div>
      <!-- /.col -->
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="/Admin">Anasayfa</a></li>
          <li class="breadcrumb-item"><a href="/Admin/Kitaplar">Kitaplar</a></li>
          <li class="breadcrumb-item active">Kitap Sil</li>
        </ol>
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </div>
  <!-- /.container-fluid -->
</div>
<!-- /.content-header -->
<!-- Main content -->
<div class="content">
  <div class="container-fluid">
    <div class="row">
      <!-- /.col-md-6 -->
      <div class="col-lg-12">
        <div class="card card-danger">
          <div class="card-header">
            <h3 class="card-title">Bu kitabı silmek istediğinize emin misiniz?</h3>
          </div>
          <div class="card-body">
            <dl class="row">
              <dt class="col-sm-2">Kitap Adı:</dt>
              <dd class="col-sm-10">@Model.Adi</dd>

              <dt class="col-sm-2">Yazar:</dt>
              <dd class="col-sm-10">
                @{
                  var yazar = yazarlar?.FirstOrDefault(y => y.Id == Model.YazarId);
                  @(yazar != null ? $"{yazar.Adi} {yazar.Soyadi}" : "")
                }
              </dd>

              <dt class="col-sm-2">Dil:</dt>
              <dd class="col-sm-10">
                @{
                  var dil = diller?.FirstOrDefault(d => d.Id == Model.DilId);
                  @(dil != null ? dil.Adi : "")
                }
              </dd>

              <dt class="col-sm-2">Yayınevi:</dt>
              <dd class="col-sm-10">
                @{
                  var yayinevi = yayinevleri?.FirstOrDefault(y => y.ID == Model.YayineviId);
                  @(yayinevi != null ? yayinevi.yayineviAdi : "")
                }
              </dd>
            </dl>
          </div>
          <div class="card-footer">
            <form asp-action="KitapSilmeOnay" method="post">
              @Html.AntiForgeryToken()
              <input type="hidden" name="id" value="@Model.Id" />
              <a href="/Admin/Kitaplar" class="btn btn-default">Vazgeç</a>
              <button type="submit" class="btn btn-danger float-right">Sil</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
